{% extends 'flights/base.html' %}
{% block content %}
  <div class="card p-4">
    <h3>Longest Node(s) by Airport</h3>
    {% if longest_per_airport %}
      <ul class="list-group">
        {% for node in longest_per_airport %}
          <li class="list-group-item">
            <strong>{{ node.airport_code }}</strong> — longest node: {{ node.duration }} minutes
            <div class="text-muted">Route: {{ node.route.name }} | Position: {{ node.position }}</div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No nodes available yet.</p>
    {% endif %}

    {% if overall_longest %}
      <div class="mt-3">
        <h5>Overall Longest Node</h5>
        <p><strong>{{ overall_longest.airport_code }}</strong> — {{ overall_longest.duration }} minutes
           (Route: {{ overall_longest.route.name }}, Pos: {{ overall_longest.position }})</p>
      </div>
    {% endif %}
  </div>
{% endblock %}
